CMAKE_MINIMUM_REQUIRED (VERSION 3.6)

set (CMAKE_CXX_STANDARD 17)

set (CMAKE_CXX_COMPILER g++)
set (CMAKE_CXX_FLAGS ${CMAKE_C_FLAGS} "-DTETLIBRARY -m64 -lstdc++ -fPIC -O3 -DNDEBUG" CACHE STRING "Setting default compiler flags.")

project (tetgen)
set (VERSION_MAJOR "1")
set (VERSION_MINOR "5")
set (VERSION_PATCH "1")
set (VERSION "${VERSION_MAJOR}.${VERSION_MINOR}.${VERSION_PATCH}")

set (DISTRIBUTION "${PROJECT_NAME}_config")

add_library (${PROJECT_NAME} SHARED tetgen.cxx predicates.cxx)
set_target_properties (${PROJECT_NAME}  PROPERTIES PREFIX "")
set_target_properties (${PROJECT_NAME}  PROPERTIES VERSION ${VERSION})
install (TARGETS ${PROJECT_NAME} EXPORT ${DISTRIBUTION} DESTINATION ${CMAKE_INSTALL_PREFIX})
install (FILES ${PROJECT_NAME}.h DESTINATION ${CMAKE_INSTALL_PREFIX})
install (EXPORT ${DISTRIBUTION} DESTINATION ${CMAKE_INSTALL_PREFIX})
