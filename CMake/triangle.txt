CMAKE_MINIMUM_REQUIRED (VERSION 3.6)

set (CMAKE_C_COMPILER gcc)
set (CMAKE_C_FLAGS ${CMAKE_C_FLAGS} "-DTRILIBRARY -m64 -lstdc++ -fPIC -O3 -DNDEBUG" CACHE STRING "Setting default compiler flags.")

project (triangle)
set (VERSION_MAJOR "1")
set (VERSION_MINOR "6")
set (VERSION_PATCH "0")
set (VERSION "${VERSION_MAJOR}.${VERSION_MINOR}.${VERSION_PATCH}")

set (DISTRIBUTION "${PROJECT_NAME}_config")

add_library (${PROJECT_NAME} SHARED tricall.c triangle.c)
set_target_properties (${PROJECT_NAME}  PROPERTIES PREFIX "")
set_target_properties (${PROJECT_NAME}  PROPERTIES VERSION ${VERSION})
install (TARGETS ${PROJECT_NAME} EXPORT ${DISTRIBUTION} DESTINATION ${CMAKE_INSTALL_PREFIX})
install (FILES ${PROJECT_NAME}.h DESTINATION ${CMAKE_INSTALL_PREFIX})
install (EXPORT ${DISTRIBUTION} DESTINATION ${CMAKE_INSTALL_PREFIX})
